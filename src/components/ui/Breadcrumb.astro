---
// パンくずナビゲーション用の型定義
export interface BreadcrumbItem {
  text: string;    // 表示テキスト
  href?: string;   // リンク先（現在ページの場合はundefined）
}

export interface Props {
  items: BreadcrumbItem[]; // パンくず項目の配列
}

const { items } = Astro.props;
---

<nav class="breadcrumb" aria-label="パンくずナビゲーション">
  <ol class="breadcrumb__list">
    {items.map((item, index) => {
      const isCurrentPage = !item.href; // hrefがない = 現在ページ
      const isLastItem = index === items.length - 1;
      
      return (
        <li class={`breadcrumb__item ${isCurrentPage ? 'breadcrumb__item--current' : ''}`}>
          {isCurrentPage ? (
            <span class="breadcrumb__current">{item.text}</span>
          ) : (
            <a href={item.href} class="breadcrumb__link">{item.text}</a>
          )}
        </li>
      );
    })}
  </ol>
</nav>

<style lang="scss">
  // 必要なmixin/functionをインポート
  @import '../../styles/variables';
  @import '../../styles/functions';
  @import '../../styles/mixins';

  /* パンくずナビゲーション */
  .breadcrumb {
    width: spx(620);
    flex-shrink: 0;
    color: var(--blue_6, #054965);
    font-family: 'Zen Kaku Gothic New';
    font-size: spx(24);
    font-style: normal;
    font-weight: 400;
    line-height: 140%; /* 33.6px */
    letter-spacing: spx(1.2);
    margin-inline: auto;
    @include tablet-up {
      width: ppx(2013 * 1);
      text-align: right;
      line-height: 160%; /* 38.4px */
      font-size: ppx(24 * 1.2);
    }
    @include desktop-up {
      width: ppx(2013);
      font-size: ppx(24);
    }

    &__list {
      display: flex;
      @include tablet-up {
        justify-content: flex-end;
      }
      @include desktop-up {
      }
    }

    &__item {
      display: flex;
      align-items: center;
      @include tablet-up {
      }
      @include desktop-up {
      }
      &:after {
        content: '\003E';
        display: block;
        margin: 0 spx(8);
        @include tablet-up {
          margin: 0 ppx(8 * 1.2);
        }
        @include desktop-up {
          margin: 0 ppx(8);
        }
      }
      &:nth-last-child(1):after {
        display: none;
      }

      &--current {
        @include tablet-up {
        }
        @include desktop-up {
        }
      }
    }

    &__link {
      @include tablet-up {
      }
      @include desktop-up {
      }
    }

    &__current {
      @include tablet-up {
      }
      @include desktop-up {
      }
    }
  }
</style>