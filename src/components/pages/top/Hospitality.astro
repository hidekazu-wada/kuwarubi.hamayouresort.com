---
import { getImage } from 'astro:assets';
import RoomImage from '../../../assets/images/top/hospitality/room.png';
import foodImage from '../../../assets/images/top/hospitality/food.png';
import OnsenImage from '../../../assets/images/top/hospitality/onsen.png';
import leaf1Url from '../../../assets/images/top/hospitality/leaf-1.svg?url';
import leaf2Url from '../../../assets/images/top/hospitality/leaf-2.svg?url';
import MoreButton from '../../ui/MoreButton.astro';

const Room = await getImage({
  src: RoomImage,
  format: 'webp',
  widths: [637, 768, 1003],
});
const Food = await getImage({
  src: foodImage,
  format: 'webp',
  widths: [637, 768, 1003],
});
const Onsen = await getImage({
  src: OnsenImage,
  format: 'webp',
  widths: [637, 768, 1003],
});
---

<section class="hospitality">
  <article class="hospitality__article hospitality__article--room">
    <header class="hospitality__header">
      <h2 class="hospitality__title">Room</h2>
      <div class="hospitality__subtitle">
        <span class="hospitality__subtitle-text">お部屋</span>
      </div>
      <p class="hospitality__description">
        シンプルで快適な当ホテルのお部屋からは、自然に囲まれた穏やかな景色をお楽しみいただけます。
      </p>
    </header>
    <div class="hospitality__content">
      <div class="hospitality__media">
        <picture class="hospitality__image">
          <!-- デスクトップ（1024px以上）→ 最高解像度版 -->
          <source media="(min-width: 1024px)" srcset={Room.srcSet.toString()} />
          <!-- タブレット（744px以上）→ 中解像度版 -->
          <source media="(min-width: 744px)" srcset={Room.srcSet.toString()} />
          <!-- スマホ（744px未満）→ 最小解像度版 -->
          <img src={Room.src} alt="お部屋の画像" class="hospitality__img" />
        </picture>
      </div>
      <div class="hospitality__link">
        <MoreButton
          href="/facility"
          textColor="var(--green_3, #43512a)"
          hoverColor="var(--green_2, #adc400)"
          arrowColor="#43512A"
        />
      </div>
    </div>
  </article>

  <article class="hospitality__article hospitality__article--food">
    <header class="hospitality__header">
      <h2 class="hospitality__title">Food</h2>
      <div class="hospitality__subtitle">
        <span class="hospitality__subtitle-text">お料理</span>
      </div>
      <p class="hospitality__description">
        何から食べようか迷うのも楽しいビュッフェスタイル。この土地ならではの味覚も織り交ぜ、心もお腹も満たす時間をどうぞ。
      </p>
    </header>
    <div class="hospitality__content">
      <div class="hospitality__media">
        <picture class="hospitality__image">
          <!-- デスクトップ（1024px以上）→ 最高解像度版 -->
          <source media="(min-width: 1024px)" srcset={Food.srcSet.toString()} />
          <!-- タブレット（744px以上）→ 中解像度版 -->
          <source media="(min-width: 744px)" srcset={Food.srcSet.toString()} />
          <!-- スマホ（744px未満）→ 最小解像度版 -->
          <img src={Food.src} alt="お料理の画像" class="hospitality__img" />
        </picture>
        <img
          src={leaf1Url}
          alt="葉の画像"
          class="hospitality__leaf hospitality__leaf--1"
        />
      </div>
      <div class="hospitality__link">
        <MoreButton
          href="/food"
          textColor="var(--green_3, #43512a)"
          hoverColor="var(--green_2, #adc400)"
          arrowColor="#43512A"
        />
      </div>
    </div>
  </article>

  <article class="hospitality__article hospitality__article--onsen">
    <header class="hospitality__header">
      <h2 class="hospitality__title">Onsen</h2>
      <div class="hospitality__subtitle">
        <span class="hospitality__subtitle-text">天然温泉</span>
      </div>
      <p class="hospitality__description">
        当施設の天然温泉では、富士山の麓の豊かな自然から湧き出る温泉水を楽しむことができます。リラックスして心身を癒す、素晴らしい湯を体験ください。
      </p>
    </header>
    <div class="hospitality__content">
      <div class="hospitality__media">
        <picture class="hospitality__image">
          <!-- デスクトップ（1024px以上）→ 最高解像度版 -->
          <source
            media="(min-width: 1024px)"
            srcset={Onsen.srcSet.toString()}
          />
          <!-- タブレット（744px以上）→ 中解像度版 -->
          <source media="(min-width: 744px)" srcset={Onsen.srcSet.toString()} />
          <!-- スマホ（744px未満）→ 最小解像度版 -->
          <img src={Onsen.src} alt="天然温泉の画像" class="hospitality__img" />
        </picture>
        <img
          src={leaf2Url}
          alt="葉の画像"
          class="hospitality__leaf hospitality__leaf--2"
        />
      </div>
      <div class="hospitality__link">
        <MoreButton
          href="/facility#public-bath"
          textColor="var(--green_3, #43512a)"
          hoverColor="var(--green_2, #adc400)"
          arrowColor="#43512A"
        />
      </div>
    </div>
  </article>
</section>

<style lang="scss">
  // 必要なmixin/functionをインポート
  @import '../../../styles/variables';
  @import '../../../styles/functions';
  @import '../../../styles/mixins';

  /* ホスピタリティセクション */
  .hospitality {
    background: var(--green_1, #e2ecc4);
    padding-top: spx(181);
    padding-bottom: spx(120);
    @include tablet-up {
      padding-top: ppx(314) * 1.2;
      padding-bottom: ppx(362) * 1.2;
    }
    @include desktop-up {
      padding-top: ppx(314);
      padding-bottom: ppx(362);
    }

    &__article {
      position: relative;
      &--room {
        .hospitality__header {
          @include tablet-up {
            margin-left: auto;
            margin-right: 6vw;
          }
          @include desktop-up {
            margin-right: ppx(285);
          }
        }
        .hospitality__media {
          @include tablet-up {
            position: absolute;
            top: ppx(-143) * 1.2;
            left: 4vw;
          }
          @include desktop-up {
            top: ppx(-143);
            left: ppx(228);
          }
        }
        .hospitality__link {
          display: flex;
          justify-content: center;
          @include tablet-up {
            display: block;
            width: max-content;
            margin-right: 6vw;
            margin-left: auto;
          }
          @include desktop-up {
            margin-right: ppx(285);
          }
        }
      }
      &--food {
        margin-top: spx(120);
        @include tablet-up {
          margin-top: ppx(376) * 1.2;
        }
        @include desktop-up {
          margin-top: ppx(376);
        }
        .hospitality__header {
          @include tablet-up {
            margin-left: 6vw;
          }
          @include desktop-up {
            margin-left: ppx(290);
          }
        }
        .hospitality__media {
          @include tablet-up {
            position: absolute;
            top: ppx(-143) * 1.2;
            right: 4vw;
          }
          @include desktop-up {
            top: ppx(-143);
            right: ppx(223);
          }
        }
        .hospitality__leaf--1 {
          position: absolute;
          top: spx(-37);
          right: spx(-27);
          display: block;
          width: spx(153);
          height: spx(84);
          @include tablet-up {
            top: ppx(-65) * 1.2;
            right: ppx(-7) * 1.2;
            width: ppx(201) * 1.2;
            height: ppx(110) * 1.2;
          }
          @include desktop-up {
            top: ppx(-65);
            right: ppx(-7);
            width: ppx(201);
            height: ppx(110);
          }
        }
        .hospitality__link {
          display: flex;
          justify-content: center;
          @include tablet-up {
            width: max-content;
            margin-left: 33vw;
            display: block;
          }
          @include desktop-up {
            margin-left: ppx(861);
          }
        }
      }
      &--onsen {
        margin-top: spx(120);
        @include tablet-up {
          margin-top: ppx(333) * 1.2;
        }
        @include desktop-up {
          margin-top: ppx(333);
        }
        .hospitality__header {
          @include tablet-up {
            margin-left: auto;
            margin-right: 6vw;
          }
          @include desktop-up {
            margin-right: ppx(285);
          }
        }
        .hospitality__media {
          @include tablet-up {
            position: absolute;
            top: ppx(-143) * 1.2;
            left: 4vw;
          }
          @include desktop-up {
            top: ppx(-143);
            left: ppx(228);
          }
        }
        .hospitality__leaf--2 {
          position: absolute;
          top: spx(-43);
          right: spx(45);
          display: block;
          width: spx(105);
          height: spx(110);
          transform: scaleX(-1); // スマホのみ左右反転
          @include tablet-up {
            top: ppx(-82) * 1.2;
            right: unset;
            left: ppx(-28) * 1.2;
            width: ppx(144) * 1.2;
            height: ppx(151) * 1.2;
            transform: none; // タブレット以上では反転しない
          }
          @include desktop-up {
            top: ppx(-82);
            left: ppx(-28);
            width: ppx(144);
            height: ppx(151);
          }
        }
        .hospitality__link {
          display: flex;
          justify-content: center;
          @include tablet-up {
            width: max-content;
            margin-right: 6vw;
            margin-left: auto;
            display: block;
          }
          @include desktop-up {
            margin-right: ppx(285);
          }
        }
      }
    }

    &__header {
      width: spx(620);
      margin-inline: auto;
      @include tablet-up {
        width: ppx(690) * 1.2;
        margin-inline: unset;
      }
      @include desktop-up {
        width: ppx(690);
      }
    }

    &__title {
      color: var(--green_3, #43512a);
      font-size: spx(70);
      line-height: 100%;
      letter-spacing: spx(4.9);
      position: relative;
      width: max-content;
      margin-inline: auto;
      @include tablet-up {
        font-size: ppx(70) * 1.2;
        letter-spacing: ppx(4.9) * 1.2;
        margin-inline: unset;
      }
      @include desktop-up {
        font-size: ppx(70);
        letter-spacing: ppx(4.9);
      }
      &::after {
        content: '';
        position: absolute;
        bottom: spx(-20);
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        height: spx(5);
        background: linear-gradient(
          to right,
          var(--green_2, #adc400) 0%,
          var(--green_2, #adc400) 48.6%,
          transparent 48.6%,
          transparent 51.4%,
          var(--blue_4, #59a1c0) 51.4%,
          var(--blue_4, #59a1c0) 100%
        );
        @include tablet-up {
          bottom: ppx(-20) * 1.2;
          height: ppx(5) * 1.2;
        }
        @include desktop-up {
          bottom: ppx(-20);
          height: ppx(5);
        }
      }
    }

    &__subtitle {
      margin-top: spx(40);
      text-align: center;
      @include tablet-up {
        margin-top: ppx(42) * 1.2;
        text-align: unset;
      }
      @include desktop-up {
        margin-top: ppx(42);
      }
    }

    &__subtitle-text {
      color: var(--green_3, #43512a);
      font-size: spx(38);
      line-height: 150%;
      letter-spacing: spx(7.6);
      @include tablet-up {
        font-size: ppx(38) * 1.2;
        letter-spacing: ppx(7.6) * 1.2;
      }
      @include desktop-up {
        font-size: ppx(38);
        letter-spacing: ppx(7.6);
      }
    }

    &__description {
      color: var(--green_3, #43512a);
      font-size: spx(29);
      line-height: 160%;
      margin-top: spx(25);
      @include tablet-up {
        font-size: ppx(27) * 1.2;
        line-height: 160%;
        letter-spacing: ppx(1.35) * 1.2;
        margin-top: ppx(58) * 1.2;
      }
      @include desktop-up {
        font-size: ppx(27);
        line-height: 160%;
        letter-spacing: ppx(1.35);
        margin-top: ppx(58);
      }
    }

    &__content {
      margin-top: spx(30);
      @include tablet-up {
        margin-top: ppx(30) * 1.2;
      }
      @include desktop-up {
        margin-top: ppx(30);
      }
    }

    &__media {
      width: max-content;
      margin-inline: auto;
      position: relative;
      margin-bottom: spx(30);
      @include tablet-up {
        margin-inline: unset;
        position: absolute;
        margin-bottom: 0;
      }
      @include desktop-up {
      }
    }

    &__image {
    }

    &__img {
      width: spx(637);
      height: spx(421);
      object-fit: cover;
      @include tablet-up {
        width: ppx(1003) * 1.1;
        height: ppx(663) * 1.1;
      }
      @include desktop-up {
        width: ppx(1003);
        height: ppx(663);
      }
    }

    &__link {
      // MoreButtonコンポーネントの位置調整用コンテナ
    }
  }
</style>
