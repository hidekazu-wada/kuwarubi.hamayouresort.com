---
// ============================================================
// 汎用ページテンプレート
// 使い方：このファイルをコピーして、ファイル名を変更して使用
// 例：cp src/pages/_template.astro src/pages/about.astro
// ============================================================

// 必須インポート
import BaseLayout from '../layouts/BaseLayout.astro';

// 追加インポート（必要に応じて）
// import { getImage } from 'astro:assets';
// import sampleImage from '../assets/images/sample.jpg';

// ============================================================
// TODO: 以下の項目を必ず変更してください
// ============================================================

// ページメタ情報（必ず変更）
const pageTitle = '404エラー | 光風閣くわるび';
const pageDescription = 'ページの説明文をここに記述します。';

// ページ固有のクラス名（404を適切な名前に変更）
const pageClass = 'main-content--404';
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
  pageClass={pageClass}
>
  <!-- ============================================================ -->
  <!-- TODO: titleEn, titleJa, Breadcrumbのテキストを変更 -->
  <!-- ============================================================ -->

  <!-- メインコンテンツ -->
  <main class="error-page">
    <h1 class="error-page__title">NOT FOUND</h1>
    <p class="error-page__message">
      お探しのページが見つかりませんでした。<br
      />トップページへご案内いたします。
    </p>
    <p class="error-page__notice">
      ※このページは<span id="countdown">10</span>秒後に自動的にジャンプします。
    </p>
  </main>
</BaseLayout>

<script>
  // カウントダウン機能
  document.addEventListener('DOMContentLoaded', function () {
    const countdownElement = document.getElementById('countdown');
    let count = 10;

    // カウントダウンを開始
    const countdownInterval = setInterval(function () {
      count--;
      if (countdownElement) {
        countdownElement.textContent = String(count);
      }

      // カウントが0になったらリダイレクト
      if (count <= 0) {
        clearInterval(countdownInterval);
        window.location.href = '/';
      }
    }, 1000);
  });
</script>

<style lang="scss">
  @import '../styles/variables';
  @import '../styles/functions';
  @import '../styles/mixins';

  // ============================================================
  // 404 Error Page Styles
  // ============================================================

  :global(.main-content--404) {
    background: var(--blue_2, #e7f3f9);
  }

  // ============================================================
  // Error Page Component
  // ============================================================

  .error-page {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    @include tablet-up {
    }
    @include desktop-up {
    }

    &__title {
      color: var(--blue_5, #026995);
      text-align: center;
      font-family: 'Zen Kaku Gothic New';
      font-size: spx(84);
      font-style: normal;
      font-weight: 700;
      line-height: spx(115);
      letter-spacing: spx(2.52);
      position: relative;
      padding-bottom: spx(10);
      @include tablet-up {
        font-size: tpx(105);
        line-height: tpx(115);
        letter-spacing: tpx(3.15);
        padding-bottom: tpx(25);
      }
      @include desktop-up {
        font-size: ppx(105);
        line-height: ppx(115);
        letter-spacing: ppx(3.15);
        padding-bottom: ppx(25);
      }
      &:after {
        content: '';
        display: block;
        width: spx(231);
        height: spx(5);
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(
          to right,
          var(--green_2, #adc400) 0%,
          var(--green_2, #adc400) 48.6%,
          transparent 48.6%,
          transparent 51.4%,
          var(--blue_4, #59a1c0) 51.4%,
          var(--blue_4, #59a1c0) 100%
        );
        @include tablet-up {
          width: tpx(231);
          height: tpx(5);
        }
        @include desktop-up {
          width: ppx(231);
          height: ppx(5);
        }
      }
    }

    &__message {
      color: var(--blue_5, #026995);
      text-align: center;
      font-family: 'Zen Kaku Gothic New';
      font-size: spx(30);
      font-style: normal;
      font-weight: 400;
      line-height: 160%; /* 48px */
      letter-spacing: spx(-0.6);
      margin-top: spx(74);
      @include tablet-up {
        font-size: tpx(34);
        line-height: 180%; /* 61.2px */
        letter-spacing: tpx(1.7);
        margin-top: tpx(49);
      }
      @include desktop-up {
        font-size: ppx(34);
        letter-spacing: ppx(1.7);
        margin-top: ppx(49);
      }
    }

    &__notice {
      color: var(--blue_5, #026995);
      text-align: center;
      font-family: 'Zen Kaku Gothic New';
      font-size: spx(27);
      font-style: normal;
      font-weight: 400;
      line-height: 160%; /* 43.2px */
      letter-spacing: spx(-0.54);
      margin-top: spx(46);
      @include tablet-up {
        font-size: tpx(34);
        line-height: 180%; /* 61.2px */
        letter-spacing: tpx(1.7);
        margin-top: tpx(20);
      }
      @include desktop-up {
        font-size: ppx(34);
        letter-spacing: ppx(1.7);
        margin-top: ppx(25);
      }
    }
  }
</style>
